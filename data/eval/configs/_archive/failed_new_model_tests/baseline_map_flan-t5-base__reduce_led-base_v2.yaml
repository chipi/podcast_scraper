id: "baseline_map_flan-t5-base__reduce_led-base_v2"
task: "summarization"

backend:
  type: "hf_local"
  map_model: "google/flan-t5-base"
  reduce_model: "allenai/led-base-16384"

# NOTE: T5-family often benefits from an instruction prefix (e.g., "summarize: ").
# This config assumes your hf_local provider either adds the prefix automatically for T5
# or you already apply it in preprocessing/materialization.
map_params:
  do_sample: false
  num_beams: 4
  max_new_tokens: 220
  min_new_tokens: 90
  no_repeat_ngram_size: 3
  repetition_penalty: 1.08
  length_penalty: 1.0
  early_stopping: true

reduce_params:
  do_sample: false
  num_beams: 4
  max_new_tokens: 650
  min_new_tokens: 220
  no_repeat_ngram_size: 3
  repetition_penalty: 1.12
  length_penalty: 1.0
  early_stopping: false

data:
  dataset_id: "curated_5feeds_smoke_v1"

preprocessing_profile: "cleaning_v4"

tokenize:
  map_max_input_tokens: 1024
  reduce_max_input_tokens: 4096
  truncation: true

chunking:
  strategy: "word_chunking"
  word_chunk_size: 900
  word_overlap: 150
